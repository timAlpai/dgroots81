{"openapi":"3.1.0","info":{"title":"RPG-IA API","description":"API pour un système de jeu de rôle en ligne multi-joueurs avec IA comme maître de jeu","version":"1.0.0"},"servers":[{"url":"/api/v1"}],"paths":{"/":{"get":{"tags":["status"],"summary":"Ping","operationId":"ping__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["status"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/token":{"post":{"tags":["auth"],"summary":"Login For Access Token","description":"Endpoint pour obtenir un token JWT","operationId":"login_for_access_token_api_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/register":{"post":{"tags":["auth"],"summary":"Register User","description":"Endpoint pour créer un nouvel utilisateur","operationId":"register_user_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Read Users Me","description":"Endpoint pour obtenir les informations de l'utilisateur actuel","operationId":"read_users_me_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh Token","description":"Endpoint pour rafraîchir le token JWT","operationId":"refresh_token_api_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/":{"get":{"tags":["users"],"summary":"Read Users","description":"Récupère tous les utilisateurs.\nNécessite des droits d'administrateur.","operationId":"read_users_api_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"},"title":"Response Read Users Api Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"Crée un nouvel utilisateur.\nNécessite des droits d'administrateur.","operationId":"create_user_api_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}":{"get":{"tags":["users"],"summary":"Read User","description":"Récupère un utilisateur par son ID.\nLes utilisateurs normaux ne peuvent voir que leur propre profil.\nLes administrateurs peuvent voir tous les profils.","operationId":"read_user_api_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"Met à jour un utilisateur.\nLes utilisateurs normaux ne peuvent mettre à jour que leur propre profil.\nLes administrateurs peuvent mettre à jour tous les profils.","operationId":"update_user_api_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Supprime un utilisateur.\nNécessite des droits d'administrateur.","operationId":"delete_user_api_users__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/check-exists/{username}":{"get":{"tags":["users"],"summary":"Check User Exists","description":"Vérifie si un utilisateur existe par son nom d'utilisateur.\nCet endpoint est principalement utilisé pour les tests.","operationId":"check_user_exists_api_users_check_exists__username__get","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/":{"get":{"tags":["game_sessions"],"summary":"Read Game Sessions","description":"Récupère toutes les sessions de jeu de l'utilisateur.\nSi l'utilisateur est un administrateur, récupère toutes les sessions.","operationId":"read_game_sessions_api_game_sessions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Active Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GameSession"},"title":"Response Read Game Sessions Api Game Sessions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["game_sessions"],"summary":"Create Game Session","description":"Crée une nouvelle session de jeu","operationId":"create_game_session_api_game_sessions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/{session_id}":{"get":{"tags":["game_sessions"],"summary":"Read Game Session","description":"Récupère une session de jeu par son ID avec tous les détails","operationId":"read_game_session_api_game_sessions__session_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["game_sessions"],"summary":"Update Game Session","description":"Met à jour une session de jeu","operationId":"update_game_session_api_game_sessions__session_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["game_sessions"],"summary":"Delete Game Session","description":"Supprime une session de jeu","operationId":"delete_game_session_api_game_sessions__session_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/{session_id}/start":{"post":{"tags":["game_sessions"],"summary":"Start Game Session","description":"Démarre une session de jeu","operationId":"start_game_session_api_game_sessions__session_id__start_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}},{"name":"scenario_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/{session_id}/stop":{"post":{"tags":["game_sessions"],"summary":"Stop Game Session","description":"Arrête une session de jeu","operationId":"stop_game_session_api_game_sessions__session_id__stop_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/{session_id}/state":{"get":{"tags":["game_sessions"],"summary":"Get Session State","description":"Récupère l'état actuel d'une session de jeu depuis Redis","operationId":"get_session_state_api_game_sessions__session_id__state_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSessionState"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/game-sessions/{session_id}/actions":{"get":{"tags":["game_sessions"],"summary":"Read Session Actions","description":"Récupère les actions d'une session de jeu.\nSi un timestamp est fourni, ne récupère que les actions après ce timestamp.","operationId":"read_session_actions_api_game_sessions__session_id__actions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}},{"name":"timestamp","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timestamp"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ActionLog"},"title":"Response Read Session Actions Api Game Sessions  Session Id  Actions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/characters/":{"get":{"tags":["characters"],"summary":"Read Characters","description":"Récupère tous les personnages de l'utilisateur.\nSi game_session_id est fourni, récupère tous les personnages de cette session.","operationId":"read_characters_api_characters__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"game_session_id","in":"query","required":false,"schema":{"type":"integer","title":"Game Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Character"},"title":"Response Read Characters Api Characters  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["characters"],"summary":"Create Character","description":"Crée un nouveau personnage","operationId":"create_character_api_characters__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Character"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/characters/generate":{"post":{"tags":["characters"],"summary":"Generate Character","description":"Génère un nouveau personnage avec des statistiques aléatoires selon les règles OSE","operationId":"generate_character_api_characters_generate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}},{"name":"character_class","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CharacterClass"}},{"name":"game_session_id","in":"query","required":true,"schema":{"type":"integer","title":"Game Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Character"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/characters/{character_id}":{"get":{"tags":["characters"],"summary":"Read Character","description":"Récupère un personnage par son ID avec tous les détails","operationId":"read_character_api_characters__character_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["characters"],"summary":"Update Character","description":"Met à jour un personnage","operationId":"update_character_api_characters__character_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Character"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["characters"],"summary":"Delete Character","description":"Supprime un personnage","operationId":"delete_character_api_characters__character_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/characters/{character_id}/level-up":{"post":{"tags":["characters"],"summary":"Level Up Character","description":"Augmente le niveau d'un personnage","operationId":"level_up_character_api_characters__character_id__level_up_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Character"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/actions/":{"get":{"tags":["actions"],"summary":"Read Actions","description":"Récupère les logs d'action avec filtres optionnels.","operationId":"read_actions_api_actions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"game_session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Game Session Id"}},{"name":"character_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Character Id"}},{"name":"action_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ActionLog"},"title":"Response Read Actions Api Actions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["actions"],"summary":"Create Action","description":"Crée une nouvelle action et génère une réponse via le LLM.","operationId":"create_action_api_actions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/actions/{action_id}":{"get":{"tags":["actions"],"summary":"Read Action","description":"Récupère un log d'action par son ID.","operationId":"read_action_api_actions__action_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"action_id","in":"path","required":true,"schema":{"type":"integer","title":"Action Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionLog"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenarios/":{"get":{"tags":["scenarios"],"summary":"Read Scenarios","description":"Récupère tous les scénarios.\nSi published_only est True, récupère uniquement les scénarios publiés.\nSinon, récupère les scénarios publiés et ceux créés par l'utilisateur actuel.","operationId":"read_scenarios_api_scenarios__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"published_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Published Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Scenario"},"title":"Response Read Scenarios Api Scenarios  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["scenarios"],"summary":"Create Scenario","description":"Crée un nouveau scénario","operationId":"create_scenario_api_scenarios__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenarios/{scenario_id}":{"get":{"tags":["scenarios"],"summary":"Read Scenario","description":"Récupère un scénario par son ID avec tous les détails","operationId":"read_scenario_api_scenarios__scenario_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"integer","title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["scenarios"],"summary":"Update Scenario","description":"Met à jour un scénario","operationId":"update_scenario_api_scenarios__scenario_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"integer","title":"Scenario Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["scenarios"],"summary":"Delete Scenario","description":"Supprime un scénario","operationId":"delete_scenario_api_scenarios__scenario_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"integer","title":"Scenario Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenarios/{scenario_id}/publish":{"post":{"tags":["scenarios"],"summary":"Publish Scenario","description":"Publie un scénario","operationId":"publish_scenario_api_scenarios__scenario_id__publish_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"integer","title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenarios/{scenario_id}/unpublish":{"post":{"tags":["scenarios"],"summary":"Unpublish Scenario","description":"Dépublie un scénario","operationId":"unpublish_scenario_api_scenarios__scenario_id__unpublish_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"integer","title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenarios/import":{"post":{"tags":["scenarios"],"summary":"Import Scenario From Markdown","description":"Importe un scénario à partir d'un fichier markdown","operationId":"import_scenario_from_markdown_api_scenarios_import_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_scenario_from_markdown_api_scenarios_import_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/scenes/":{"get":{"tags":["scenes"],"summary":"Read Scenes","description":"Récupère toutes les scènes.\nSi scenario_id est fourni, récupère uniquement les scènes de ce scénario.","operationId":"read_scenes_api_scenes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"scenario_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Scene"},"title":"Response Read Scenes Api Scenes  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["scenes"],"summary":"Create Scene","description":"Crée une nouvelle scène","operationId":"create_scene_api_scenes__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SceneCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenes/{scene_id}":{"get":{"tags":["scenes"],"summary":"Read Scene","description":"Récupère une scène par son ID avec tous les détails","operationId":"read_scene_api_scenes__scene_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SceneWithDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["scenes"],"summary":"Update Scene","description":"Met à jour une scène","operationId":"update_scene_api_scenes__scene_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SceneUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["scenes"],"summary":"Delete Scene","description":"Supprime une scène","operationId":"delete_scene_api_scenes__scene_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenes/{scene_id}/generate-description":{"post":{"tags":["scenes"],"summary":"Generate Description","description":"Génère une description détaillée pour une scène en utilisant le LLM","operationId":"generate_description_api_scenes__scene_id__generate_description_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenes/{scene_id}/reorder":{"post":{"tags":["scenes"],"summary":"Reorder Scene","description":"Change l'ordre d'une scène dans un scénario","operationId":"reorder_scene_api_scenes__scene_id__reorder_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scene_id","in":"path","required":true,"schema":{"type":"integer","title":"Scene Id"}},{"name":"new_order","in":"query","required":true,"schema":{"type":"integer","title":"New Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scenes/transitions":{"post":{"tags":["scenes"],"summary":"Create Scene Transition","description":"Crée une transition entre deux scènes","operationId":"create_scene_transition_api_scenes_transitions_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SceneTransition"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SceneTransition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["scenes"],"summary":"Delete Scene Transition","description":"Supprime une transition entre deux scènes","operationId":"delete_scene_transition_api_scenes_transitions_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"from_scene_id","in":"query","required":true,"schema":{"type":"integer","title":"From Scene Id"}},{"name":"to_scene_id","in":"query","required":true,"schema":{"type":"integer","title":"To Scene Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ActionLog":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"action_type":{"$ref":"#/components/schemas/ActionType"},"description":{"type":"string","title":"Description"},"game_session_id":{"type":"integer","title":"Game Session Id"},"character_id":{"type":"integer","title":"Character Id"},"scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Scene Id"},"result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result"},"tokens_used":{"type":"integer","title":"Tokens Used","default":0},"processing_time":{"type":"number","title":"Processing Time","default":0.0},"game_data":{"type":"object","title":"Game Data"},"action_timestamp":{"type":"string","format":"date-time","title":"Action Timestamp"},"action_date":{"type":"string","title":"Action Date"}},"type":"object","required":["action_type","description","game_session_id","character_id","action_date"],"title":"ActionLog","description":"Schéma pour les logs d'action renvoyés par l'API"},"ActionRequest":{"properties":{"action_type":{"$ref":"#/components/schemas/ActionType"},"description":{"type":"string","title":"Description"},"game_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Game Data"},"character_id":{"type":"integer","title":"Character Id"},"scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Scene Id"}},"type":"object","required":["action_type","description","character_id"],"title":"ActionRequest","description":"Schéma pour les requêtes d'action des joueurs"},"ActionResponse":{"properties":{"action_id":{"type":"integer","title":"Action Id"},"result":{"type":"string","title":"Result"},"game_data":{"type":"object","title":"Game Data"},"tokens_used":{"type":"integer","title":"Tokens Used"},"processing_time":{"type":"number","title":"Processing Time"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"character_updates":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Character Updates"},"scene_updates":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Scene Updates"},"next_possible_actions":{"items":{"type":"object"},"type":"array","title":"Next Possible Actions"},"narrative_context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Narrative Context"}},"type":"object","required":["action_id","result","tokens_used","processing_time","timestamp"],"title":"ActionResponse","description":"Schéma pour les réponses aux actions des joueurs"},"ActionType":{"type":"string","enum":["dialogue","combat","mouvement","interaction","sort","competence","repos","autre"],"title":"ActionType","description":"Types d'actions possibles dans le jeu"},"Body_import_scenario_from_markdown_api_scenarios_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_import_scenario_from_markdown_api_scenarios_import_post"},"Body_login_for_access_token_api_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_auth_token_post"},"Character":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"name":{"type":"string","title":"Name"},"character_class":{"$ref":"#/components/schemas/CharacterClass"},"level":{"type":"integer","title":"Level","default":1},"experience":{"type":"integer","title":"Experience","default":0},"strength":{"type":"integer","title":"Strength"},"intelligence":{"type":"integer","title":"Intelligence"},"wisdom":{"type":"integer","title":"Wisdom"},"dexterity":{"type":"integer","title":"Dexterity"},"constitution":{"type":"integer","title":"Constitution"},"charisma":{"type":"integer","title":"Charisma"},"max_hp":{"type":"integer","title":"Max Hp"},"current_hp":{"type":"integer","title":"Current Hp"},"armor_class":{"type":"integer","title":"Armor Class","default":10},"user_id":{"type":"integer","title":"User Id"},"game_session_id":{"type":"integer","title":"Game Session Id"},"equipment":{"items":{"type":"object"},"type":"array","title":"Equipment"},"inventory":{"items":{"type":"object"},"type":"array","title":"Inventory"},"gold":{"type":"integer","title":"Gold","default":0},"skills":{"items":{"type":"object"},"type":"array","title":"Skills"},"spells":{"items":{"type":"object"},"type":"array","title":"Spells"},"background":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Background"},"appearance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Appearance"},"is_alive":{"type":"boolean","title":"Is Alive","default":true},"strength_mod":{"type":"integer","title":"Strength Mod","default":0},"intelligence_mod":{"type":"integer","title":"Intelligence Mod","default":0},"wisdom_mod":{"type":"integer","title":"Wisdom Mod","default":0},"dexterity_mod":{"type":"integer","title":"Dexterity Mod","default":0},"constitution_mod":{"type":"integer","title":"Constitution Mod","default":0},"charisma_mod":{"type":"integer","title":"Charisma Mod","default":0}},"type":"object","required":["name","character_class","strength","intelligence","wisdom","dexterity","constitution","charisma","max_hp","current_hp","user_id","game_session_id"],"title":"Character","description":"Schéma pour les personnages renvoyés par l'API"},"CharacterClass":{"type":"string","enum":["clerc","guerrier","magicien","voleur","nain","elfe","halfelin"],"title":"CharacterClass","description":"Classes de personnage selon OSE"},"CharacterCreate":{"properties":{"name":{"type":"string","title":"Name"},"character_class":{"$ref":"#/components/schemas/CharacterClass"},"level":{"type":"integer","title":"Level","default":1},"experience":{"type":"integer","title":"Experience","default":0},"strength":{"type":"integer","title":"Strength"},"intelligence":{"type":"integer","title":"Intelligence"},"wisdom":{"type":"integer","title":"Wisdom"},"dexterity":{"type":"integer","title":"Dexterity"},"constitution":{"type":"integer","title":"Constitution"},"charisma":{"type":"integer","title":"Charisma"},"max_hp":{"type":"integer","title":"Max Hp"},"current_hp":{"type":"integer","title":"Current Hp"},"armor_class":{"type":"integer","title":"Armor Class","default":10},"user_id":{"type":"integer","title":"User Id"},"game_session_id":{"type":"integer","title":"Game Session Id"},"background":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Background"},"appearance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Appearance"}},"type":"object","required":["name","character_class","strength","intelligence","wisdom","dexterity","constitution","charisma","max_hp","current_hp","user_id","game_session_id"],"title":"CharacterCreate","description":"Schéma pour la création de personnages"},"CharacterUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Level"},"experience":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Experience"},"current_hp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Hp"},"armor_class":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Armor Class"},"equipment":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Equipment"},"inventory":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Inventory"},"gold":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Gold"},"skills":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Skills"},"spells":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Spells"},"background":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Background"},"appearance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Appearance"},"is_alive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Alive"}},"type":"object","title":"CharacterUpdate","description":"Schéma pour la mise à jour de personnages"},"CharacterWithDetails":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"name":{"type":"string","title":"Name"},"character_class":{"$ref":"#/components/schemas/CharacterClass"},"level":{"type":"integer","title":"Level","default":1},"experience":{"type":"integer","title":"Experience","default":0},"strength":{"type":"integer","title":"Strength"},"intelligence":{"type":"integer","title":"Intelligence"},"wisdom":{"type":"integer","title":"Wisdom"},"dexterity":{"type":"integer","title":"Dexterity"},"constitution":{"type":"integer","title":"Constitution"},"charisma":{"type":"integer","title":"Charisma"},"max_hp":{"type":"integer","title":"Max Hp"},"current_hp":{"type":"integer","title":"Current Hp"},"armor_class":{"type":"integer","title":"Armor Class","default":10},"user_id":{"type":"integer","title":"User Id"},"game_session_id":{"type":"integer","title":"Game Session Id"},"equipment":{"items":{"type":"object"},"type":"array","title":"Equipment"},"inventory":{"items":{"type":"object"},"type":"array","title":"Inventory"},"gold":{"type":"integer","title":"Gold","default":0},"skills":{"items":{"type":"object"},"type":"array","title":"Skills"},"spells":{"items":{"type":"object"},"type":"array","title":"Spells"},"background":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Background"},"appearance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Appearance"},"is_alive":{"type":"boolean","title":"Is Alive","default":true},"strength_mod":{"type":"integer","title":"Strength Mod","default":0},"intelligence_mod":{"type":"integer","title":"Intelligence Mod","default":0},"wisdom_mod":{"type":"integer","title":"Wisdom Mod","default":0},"dexterity_mod":{"type":"integer","title":"Dexterity Mod","default":0},"constitution_mod":{"type":"integer","title":"Constitution Mod","default":0},"charisma_mod":{"type":"integer","title":"Charisma Mod","default":0},"user":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"User"},"game_session":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Game Session"},"action_logs":{"items":{"type":"object"},"type":"array","title":"Action Logs","default":[]}},"type":"object","required":["name","character_class","strength","intelligence","wisdom","dexterity","constitution","charisma","max_hp","current_hp","user_id","game_session_id"],"title":"CharacterWithDetails","description":"Schéma pour les personnages avec détails supplémentaires"},"GameSession":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"game_master_id":{"type":"integer","title":"Game Master Id"},"game_rules":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Game Rules","default":"OSE"},"difficulty_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty Level","default":"standard"},"total_tokens_used":{"type":"integer","title":"Total Tokens Used","default":0},"total_game_time":{"type":"number","title":"Total Game Time","default":0.0},"total_actions":{"type":"integer","title":"Total Actions","default":0},"current_scenario_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scenario Id"},"current_scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scene Id"},"context_data":{"type":"object","title":"Context Data"}},"type":"object","required":["name","game_master_id"],"title":"GameSession","description":"Schéma pour les sessions de jeu renvoyées par l'API"},"GameSessionCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"game_master_id":{"type":"integer","title":"Game Master Id"},"game_rules":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Game Rules","default":"OSE"},"difficulty_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty Level","default":"standard"}},"type":"object","required":["name","game_master_id"],"title":"GameSessionCreate","description":"Schéma pour la création de sessions de jeu"},"GameSessionState":{"properties":{"session_id":{"type":"integer","title":"Session Id"},"name":{"type":"string","title":"Name"},"active_characters":{"items":{"type":"integer"},"type":"array","title":"Active Characters","default":[]},"current_scenario_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scenario Id"},"current_scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scene Id"},"last_action_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Last Action Id"},"context_window":{"items":{"type":"object"},"type":"array","title":"Context Window","default":[]},"session_start_time":{"type":"string","format":"date-time","title":"Session Start Time"},"last_activity_time":{"type":"string","format":"date-time","title":"Last Activity Time"},"game_state":{"type":"object","title":"Game State"}},"type":"object","required":["session_id","name"],"title":"GameSessionState","description":"Schéma pour l'état d'une session de jeu en temps réel (stocké dans Redis)"},"GameSessionUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"current_scenario_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scenario Id"},"current_scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scene Id"},"game_rules":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Game Rules"},"difficulty_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty Level"},"context_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Context Data"}},"type":"object","title":"GameSessionUpdate","description":"Schéma pour la mise à jour de sessions de jeu"},"GameSessionWithDetails":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"game_master_id":{"type":"integer","title":"Game Master Id"},"game_rules":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Game Rules","default":"OSE"},"difficulty_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty Level","default":"standard"},"total_tokens_used":{"type":"integer","title":"Total Tokens Used","default":0},"total_game_time":{"type":"number","title":"Total Game Time","default":0.0},"total_actions":{"type":"integer","title":"Total Actions","default":0},"current_scenario_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scenario Id"},"current_scene_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Scene Id"},"context_data":{"type":"object","title":"Context Data"},"characters":{"items":{"type":"object"},"type":"array","title":"Characters","default":[]},"current_scenario":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Current Scenario"},"current_scene":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Current Scene"},"game_master":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Game Master"}},"type":"object","required":["name","game_master_id"],"title":"GameSessionWithDetails","description":"Schéma pour les sessions de jeu avec détails supplémentaires"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Scenario":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"recommended_level":{"type":"integer","title":"Recommended Level","default":1},"difficulty":{"type":"string","title":"Difficulty","default":"standard"},"creator_id":{"type":"integer","title":"Creator Id"},"introduction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Introduction"},"conclusion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conclusion"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"is_published":{"type":"boolean","title":"Is Published","default":false},"context_data":{"type":"object","title":"Context Data"},"resources":{"type":"object","title":"Resources"}},"type":"object","required":["title","description","creator_id"],"title":"Scenario","description":"Schéma pour les scénarios renvoyés par l'API"},"ScenarioCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"recommended_level":{"type":"integer","title":"Recommended Level","default":1},"difficulty":{"type":"string","title":"Difficulty","default":"standard"},"creator_id":{"type":"integer","title":"Creator Id"},"introduction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Introduction"},"conclusion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conclusion"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"is_published":{"type":"boolean","title":"Is Published","default":false},"context_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Context Data"},"resources":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Resources"}},"type":"object","required":["title","description","creator_id"],"title":"ScenarioCreate","description":"Schéma pour la création de scénarios"},"ScenarioUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"recommended_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recommended Level"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"introduction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Introduction"},"conclusion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conclusion"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"is_published":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Published"},"context_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Context Data"},"resources":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Resources"}},"type":"object","title":"ScenarioUpdate","description":"Schéma pour la mise à jour de scénarios"},"ScenarioWithDetails":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"recommended_level":{"type":"integer","title":"Recommended Level","default":1},"difficulty":{"type":"string","title":"Difficulty","default":"standard"},"creator_id":{"type":"integer","title":"Creator Id"},"introduction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Introduction"},"conclusion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conclusion"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"is_published":{"type":"boolean","title":"Is Published","default":false},"context_data":{"type":"object","title":"Context Data"},"resources":{"type":"object","title":"Resources"},"creator":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Creator"},"scenes":{"items":{"type":"object"},"type":"array","title":"Scenes","default":[]},"scene_count":{"type":"integer","title":"Scene Count","default":0}},"type":"object","required":["title","description","creator_id"],"title":"ScenarioWithDetails","description":"Schéma pour les scénarios avec détails supplémentaires"},"Scene":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"scene_type":{"$ref":"#/components/schemas/SceneType"},"order":{"type":"integer","title":"Order","default":0},"scenario_id":{"type":"integer","title":"Scenario Id"},"narrative_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Narrative Content"},"markdown_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Markdown Content"},"context_data":{"type":"object","title":"Context Data"},"npcs":{"items":{"type":"object"},"type":"array","title":"Npcs"},"monsters":{"items":{"type":"object"},"type":"array","title":"Monsters"},"items":{"items":{"type":"object"},"type":"array","title":"Items"},"entry_conditions":{"type":"object","title":"Entry Conditions"},"exit_conditions":{"type":"object","title":"Exit Conditions"},"next_scenes":{"items":{"type":"integer"},"type":"array","title":"Next Scenes"},"resources":{"type":"object","title":"Resources"}},"type":"object","required":["title","description","scene_type","scenario_id"],"title":"Scene","description":"Schéma pour les scènes renvoyées par l'API"},"SceneCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"scene_type":{"$ref":"#/components/schemas/SceneType"},"order":{"type":"integer","title":"Order","default":0},"scenario_id":{"type":"integer","title":"Scenario Id"},"narrative_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Narrative Content"},"markdown_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Markdown Content"},"context_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Context Data"},"npcs":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Npcs"},"monsters":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Monsters"},"items":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Items"},"entry_conditions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Entry Conditions"},"exit_conditions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Exit Conditions"},"next_scenes":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Next Scenes"},"resources":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Resources"}},"type":"object","required":["title","description","scene_type","scenario_id"],"title":"SceneCreate","description":"Schéma pour la création de scènes"},"SceneTransition":{"properties":{"from_scene_id":{"type":"integer","title":"From Scene Id"},"to_scene_id":{"type":"integer","title":"To Scene Id"},"transition_type":{"type":"string","title":"Transition Type"},"condition":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Condition"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["from_scene_id","to_scene_id","transition_type"],"title":"SceneTransition","description":"Schéma pour les transitions entre scènes"},"SceneType":{"type":"string","enum":["introduction","exploration","combat","dialogue","puzzle","repos","conclusion"],"title":"SceneType","description":"Types de scènes possibles"},"SceneUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scene_type":{"anyOf":[{"$ref":"#/components/schemas/SceneType"},{"type":"null"}]},"order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order"},"narrative_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Narrative Content"},"markdown_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Markdown Content"},"context_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Context Data"},"npcs":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Npcs"},"monsters":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Monsters"},"items":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Items"},"entry_conditions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Entry Conditions"},"exit_conditions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Exit Conditions"},"next_scenes":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Next Scenes"},"resources":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Resources"}},"type":"object","title":"SceneUpdate","description":"Schéma pour la mise à jour de scènes"},"SceneWithDetails":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"scene_type":{"$ref":"#/components/schemas/SceneType"},"order":{"type":"integer","title":"Order","default":0},"scenario_id":{"type":"integer","title":"Scenario Id"},"narrative_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Narrative Content"},"markdown_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Markdown Content"},"context_data":{"type":"object","title":"Context Data"},"npcs":{"items":{"type":"object"},"type":"array","title":"Npcs"},"monsters":{"items":{"type":"object"},"type":"array","title":"Monsters"},"items":{"items":{"type":"object"},"type":"array","title":"Items"},"entry_conditions":{"type":"object","title":"Entry Conditions"},"exit_conditions":{"type":"object","title":"Exit Conditions"},"next_scenes":{"items":{"type":"integer"},"type":"array","title":"Next Scenes"},"resources":{"type":"object","title":"Resources"},"scenario":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Scenario"},"action_logs":{"items":{"type":"object"},"type":"array","title":"Action Logs","default":[]},"action_count":{"type":"integer","title":"Action Count","default":0}},"type":"object","required":["title","description","scene_type","scenario_id"],"title":"SceneWithDetails","description":"Schéma pour les scènes avec détails supplémentaires"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token","description":"Schéma pour les tokens d'authentification"},"User":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"total_tokens_used":{"type":"integer","title":"Total Tokens Used","default":0},"total_game_time":{"type":"number","title":"Total Game Time","default":0.0},"total_sessions":{"type":"integer","title":"Total Sessions","default":0},"total_characters":{"type":"integer","title":"Total Characters","default":0}},"type":"object","required":["username","email"],"title":"User","description":"Schéma pour les utilisateurs renvoyés par l'API"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"UserCreate","description":"Schéma pour la création d'utilisateurs"},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser"}},"type":"object","title":"UserUpdate","description":"Schéma pour la mise à jour d'utilisateurs"},"UserWithStats":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"total_tokens_used":{"type":"integer","title":"Total Tokens Used","default":0},"total_game_time":{"type":"number","title":"Total Game Time","default":0.0},"total_sessions":{"type":"integer","title":"Total Sessions","default":0},"total_characters":{"type":"integer","title":"Total Characters","default":0},"average_session_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Session Time"},"favorite_character_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Favorite Character Class"},"total_actions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Actions"}},"type":"object","required":["username","email"],"title":"UserWithStats","description":"Schéma pour les utilisateurs avec statistiques détaillées"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{"user":"Accès utilisateur standard","admin":"Accès administrateur","game_master":"Accès maître de jeu"},"tokenUrl":"api/auth/token"}}}}}}